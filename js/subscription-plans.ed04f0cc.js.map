{"version":3,"file":"js/subscription-plans.ed04f0cc.js","mappings":"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","sources":["webpack://mini-notes-ui/./src/views/SubscriptionPlans.vue","webpack://mini-notes-ui/./src/components/subscription/PlanCard.vue","webpack://mini-notes-ui/./src/components/subscription/PlanCard.vue?9b29","webpack://mini-notes-ui/./src/views/SubscriptionPlans.vue?a772"],"sourcesContent":["<template>\r\n  <div class=\"plans-page\">\r\n    <!-- Header -->\r\n    <div class=\"plans-header\">\r\n      <button class=\"plans-header__back\" @click=\"goBack\">\r\n        <v-icon icon=\"mdi-arrow-left\" size=\"24\" />\r\n      </button>\r\n      <div class=\"plans-header__content\">\r\n        <h1 class=\"plans-header__title\">Выберите план</h1>\r\n        <p class=\"plans-header__subtitle\">Разблокируйте все возможности</p>\r\n      </div>\r\n    </div>\r\n\r\n    <!-- Plans list -->\r\n    <div class=\"plans-content\">\r\n      <div v-if=\"loading\" class=\"plans-loading\">\r\n        <div class=\"plans-loading__spinner\"></div>\r\n      </div>\r\n\r\n      <template v-else>\r\n        <transition-group name=\"fade-up\" tag=\"div\" class=\"plans-list\">\r\n          <PlanCard\r\n            v-for=\"(plan, index) in plans\"\r\n            :key=\"plan.id\"\r\n            :plan=\"plan\"\r\n            :is-current=\"isPlanCurrent(plan)\"\r\n            :style=\"{ transitionDelay: index * 0.1 + 's' }\"\r\n            @select=\"selectPlan(plan)\"\r\n          />\r\n        </transition-group>\r\n      </template>\r\n    </div>\r\n\r\n    <!-- Features comparison -->\r\n    <div class=\"plans-features\">\r\n      <h3 class=\"plans-features__title\">Сравнение планов</h3>\r\n      <div class=\"plans-features__table\">\r\n        <div class=\"plans-features__row plans-features__row--header\">\r\n          <span></span>\r\n          <span>Free</span>\r\n          <span>Pro</span>\r\n        </div>\r\n        <div class=\"plans-features__row\" v-for=\"(feature, index) in comparisonFeatures\" :key=\"index\">\r\n          <span class=\"plans-features__label\">{{ feature.label }}</span>\r\n          <span class=\"plans-features__value\">{{ feature.free }}</span>\r\n          <span class=\"plans-features__value plans-features__value--pro\">{{ feature.pro }}</span>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport PlanCard from '@/components/subscription/PlanCard.vue'\r\nimport { SubscriptionCall } from '@/api/call'\r\n\r\nexport default {\r\n  name: 'SubscriptionPlansView',\r\n  components: {\r\n    PlanCard,\r\n  },\r\n  data() {\r\n    return {\r\n      loading: true,\r\n      currentPlanType: 'FREE',\r\n      plans: [],\r\n      comparisonFeatures: [\r\n        { label: 'Страницы', free: '5', pro: '∞' },\r\n        { label: 'Блоки', free: '10', pro: '∞' },\r\n        { label: 'Экспорт', free: '—', pro: '✓' },\r\n        { label: 'Синхронизация', free: '—', pro: '✓' },\r\n        { label: 'Поддержка', free: '—', pro: '✓' },\r\n      ],\r\n    }\r\n  },\r\n  async mounted() {\r\n    await this.loadData()\r\n  },\r\n  methods: {\r\n    async loadData() {\r\n      try {\r\n        this.loading = true\r\n        const [plansResponse, subscriptionResponse] = await Promise.all([\r\n          SubscriptionCall.getPlans(),\r\n          SubscriptionCall.getCurrent(),\r\n        ])\r\n        this.plans = plansResponse.data\r\n        this.currentPlanType = subscriptionResponse.data.plan\r\n      } catch (error) {\r\n        console.error('Failed to load data:', error)\r\n      } finally {\r\n        this.loading = false\r\n      }\r\n    },\r\n    goBack() {\r\n      this.$router.back()\r\n    },\r\n    isPlanCurrent(plan) {\r\n      if (plan.priceStars === 0) {\r\n        return this.currentPlanType === 'FREE'\r\n      }\r\n      return this.currentPlanType === 'PREMIUM'\r\n    },\r\n    async selectPlan(plan) {\r\n      if (this.isPlanCurrent(plan)) return\r\n      if (plan.priceStars === 0) return\r\n\r\n      try {\r\n        // Создаём invoice на бэкенде\r\n        const response = await SubscriptionCall.createInvoice({\r\n          planId: plan.id,\r\n        })\r\n\r\n        const invoiceLink = response.data.invoiceLink\r\n\r\n        // Открываем оплату через Telegram\r\n        if (window.Telegram?.WebApp?.openInvoice) {\r\n          window.Telegram.WebApp.openInvoice(invoiceLink, (status) => {\r\n            if (status === 'paid') {\r\n              // Оплата успешна - обновляем данные\r\n              this.loadData()\r\n              window.Telegram.WebApp.showAlert('Подписка успешно оформлена!')\r\n            } else if (status === 'cancelled') {\r\n              // Пользователь отменил\r\n              console.log('Payment cancelled')\r\n            } else if (status === 'failed') {\r\n              window.Telegram.WebApp.showAlert('Ошибка оплаты. Попробуйте позже.')\r\n            }\r\n          })\r\n        } else {\r\n          // Fallback для тестирования вне Telegram\r\n          console.log('Telegram WebApp not available, invoice link:', invoiceLink)\r\n          alert('Для оплаты откройте приложение в Telegram')\r\n        }\r\n      } catch (error) {\r\n        console.error('Failed to create invoice:', error)\r\n        if (window.Telegram?.WebApp?.showAlert) {\r\n          window.Telegram.WebApp.showAlert('Не удалось создать счёт. Попробуйте позже.')\r\n        }\r\n      }\r\n    },\r\n  },\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n.plans-page {\r\n  min-height: 100vh;\r\n  background: #0d0d1a;\r\n  padding-bottom: 32px;\r\n}\r\n\r\n.plans-header {\r\n  display: flex;\r\n  align-items: center;\r\n  gap: 12px;\r\n  padding: 16px 16px 24px;\r\n}\r\n\r\n.plans-header__back {\r\n  width: 44px;\r\n  height: 44px;\r\n  border-radius: 14px;\r\n  background: rgba(255, 255, 255, 0.08);\r\n  border: none;\r\n  color: #fff;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  cursor: pointer;\r\n  transition: all 0.2s ease;\r\n}\r\n\r\n.plans-header__back:active {\r\n  transform: scale(0.95);\r\n  background: rgba(255, 255, 255, 0.12);\r\n}\r\n\r\n.plans-header__content {\r\n  flex: 1;\r\n}\r\n\r\n.plans-header__title {\r\n  font-size: 24px;\r\n  font-weight: 700;\r\n  color: #fff;\r\n  margin: 0;\r\n}\r\n\r\n.plans-header__subtitle {\r\n  font-size: 14px;\r\n  color: #8b8b9e;\r\n  margin: 4px 0 0;\r\n}\r\n\r\n.plans-content {\r\n  padding: 0 16px;\r\n}\r\n\r\n.plans-loading {\r\n  display: flex;\r\n  justify-content: center;\r\n  padding: 60px 0;\r\n}\r\n\r\n.plans-loading__spinner {\r\n  width: 40px;\r\n  height: 40px;\r\n  border: 3px solid rgba(147, 112, 219, 0.2);\r\n  border-top-color: #9370db;\r\n  border-radius: 50%;\r\n  animation: spin 0.8s linear infinite;\r\n}\r\n\r\n@keyframes spin {\r\n  to {\r\n    transform: rotate(360deg);\r\n  }\r\n}\r\n\r\n.plans-list {\r\n  display: flex;\r\n  flex-direction: column;\r\n  gap: 16px;\r\n}\r\n\r\n.plans-features {\r\n  margin-top: 32px;\r\n  padding: 0 16px;\r\n}\r\n\r\n.plans-features__title {\r\n  font-size: 18px;\r\n  font-weight: 600;\r\n  color: #fff;\r\n  margin: 0 0 16px;\r\n}\r\n\r\n.plans-features__table {\r\n  background: linear-gradient(145deg, #1a1a2e 0%, #16213e 100%);\r\n  border-radius: 16px;\r\n  padding: 16px;\r\n  border: 1px solid rgba(255, 255, 255, 0.08);\r\n}\r\n\r\n.plans-features__row {\r\n  display: grid;\r\n  grid-template-columns: 1fr 48px 48px;\r\n  gap: 8px;\r\n  padding: 12px 0;\r\n  border-bottom: 1px solid rgba(255, 255, 255, 0.06);\r\n}\r\n\r\n.plans-features__row:last-child {\r\n  border-bottom: none;\r\n}\r\n\r\n.plans-features__row--header {\r\n  padding-top: 0;\r\n}\r\n\r\n.plans-features__row--header span {\r\n  font-size: 12px;\r\n  font-weight: 600;\r\n  color: #8b8b9e;\r\n  text-transform: uppercase;\r\n  text-align: center;\r\n}\r\n\r\n.plans-features__row--header span:first-child {\r\n  text-align: left;\r\n}\r\n\r\n.plans-features__label {\r\n  font-size: 14px;\r\n  color: #a8a8b8;\r\n}\r\n\r\n.plans-features__value {\r\n  font-size: 15px;\r\n  color: #5a5a6e;\r\n  text-align: center;\r\n}\r\n\r\n.plans-features__value--pro {\r\n  color: #4ade80;\r\n  font-weight: 600;\r\n}\r\n\r\n/* Animations */\r\n.fade-up-enter-active {\r\n  transition: all 0.5s cubic-bezier(0.16, 1, 0.3, 1);\r\n}\r\n\r\n.fade-up-enter-from {\r\n  opacity: 0;\r\n  transform: translateY(20px);\r\n}\r\n\r\n.fade-up-enter-to {\r\n  opacity: 1;\r\n  transform: translateY(0);\r\n}\r\n</style>\r\n","<template>\r\n  <div\r\n    class=\"plan-card\"\r\n    :class=\"{\r\n      'plan-card--premium': isPremium,\r\n      'plan-card--current': isCurrent\r\n    }\"\r\n    @click=\"$emit('select')\"\r\n  >\r\n    <!-- Popular badge -->\r\n    <div v-if=\"plan.popular\" class=\"plan-card__badge\">\r\n      <v-icon icon=\"mdi-fire\" size=\"12\" />\r\n      Популярный\r\n    </div>\r\n\r\n    <!-- Glow effect for premium -->\r\n    <div v-if=\"isPremium\" class=\"plan-card__glow\"></div>\r\n\r\n    <!-- Header -->\r\n    <div class=\"plan-card__header\">\r\n      <div class=\"plan-card__icon\" :class=\"{ 'plan-card__icon--premium': isPremium }\">\r\n        <v-icon :icon=\"isPremium ? 'mdi-crown' : 'mdi-leaf'\" size=\"24\" />\r\n      </div>\r\n      <div class=\"plan-card__title-group\">\r\n        <span class=\"plan-card__name\">{{ plan.name }}</span>\r\n        <span class=\"plan-card__description\">{{ planDescription }}</span>\r\n      </div>\r\n    </div>\r\n\r\n    <!-- Price -->\r\n    <div class=\"plan-card__price\">\r\n      <span v-if=\"plan.priceStars > 0\" class=\"plan-card__price-value\">\r\n        {{ plan.priceStars }}\r\n        <span class=\"plan-card__price-currency\">⭐</span>\r\n      </span>\r\n      <span v-else class=\"plan-card__price-free\">Бесплатно</span>\r\n      <span v-if=\"plan.durationDays\" class=\"plan-card__price-period\">/ {{ periodLabel }}</span>\r\n    </div>\r\n\r\n    <!-- Features -->\r\n    <ul class=\"plan-card__features\">\r\n      <li\r\n        v-for=\"(feature, index) in plan.features\"\r\n        :key=\"index\"\r\n        class=\"plan-card__feature\"\r\n      >\r\n        <v-icon\r\n          icon=\"mdi-check-circle\"\r\n          size=\"18\"\r\n          class=\"plan-card__feature-icon\"\r\n        />\r\n        <span>{{ feature }}</span>\r\n      </li>\r\n    </ul>\r\n\r\n    <!-- Action button -->\r\n    <button\r\n      class=\"plan-card__button\"\r\n      :class=\"{ 'plan-card__button--premium': isPremium && !isCurrent }\"\r\n      :disabled=\"isCurrent\"\r\n    >\r\n      <span v-if=\"isCurrent\">Текущий план</span>\r\n      <span v-else-if=\"isPremium\">Оплатить {{ plan.priceStars }} ⭐</span>\r\n      <span v-else>Начать бесплатно</span>\r\n    </button>\r\n\r\n    <!-- Current indicator -->\r\n    <div v-if=\"isCurrent\" class=\"plan-card__current-indicator\">\r\n      <v-icon icon=\"mdi-check-circle\" size=\"16\" />\r\n      Активен\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  name: 'PlanCard',\r\n  props: {\r\n    plan: {\r\n      type: Object,\r\n      required: true,\r\n    },\r\n    isCurrent: {\r\n      type: Boolean,\r\n      default: false,\r\n    },\r\n  },\r\n  computed: {\r\n    isPremium() {\r\n      return this.plan.priceStars > 0\r\n    },\r\n    periodLabel() {\r\n      const days = this.plan.durationDays\r\n      if (days === 30 || days === 31) return 'месяц'\r\n      if (days === 365 || days === 366) return 'год'\r\n      if (days === 7) return 'неделя'\r\n      return `${days} дн.`\r\n    },\r\n    planDescription() {\r\n      if (this.plan.priceStars === 0) {\r\n        return 'Для начала работы с заметками'\r\n      }\r\n      return 'Полный доступ ко всем функциям'\r\n    },\r\n  },\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n.plan-card {\r\n  position: relative;\r\n  background: linear-gradient(145deg, #1a1a2e 0%, #16213e 100%);\r\n  border-radius: 24px;\r\n  padding: 24px;\r\n  border: 1px solid rgba(255, 255, 255, 0.08);\r\n  cursor: pointer;\r\n  transition: all 0.3s ease;\r\n  overflow: hidden;\r\n}\r\n\r\n.plan-card:active {\r\n  transform: scale(0.98);\r\n}\r\n\r\n.plan-card--premium {\r\n  background: linear-gradient(145deg, #1a1a2e 0%, #0f3460 50%, #1a1a2e 100%);\r\n  border: 1px solid rgba(147, 112, 219, 0.4);\r\n}\r\n\r\n.plan-card--current {\r\n  border: 2px solid rgba(74, 222, 128, 0.5);\r\n}\r\n\r\n.plan-card__glow {\r\n  position: absolute;\r\n  top: -50%;\r\n  right: -30%;\r\n  width: 80%;\r\n  height: 100%;\r\n  background: radial-gradient(circle, rgba(147, 112, 219, 0.2) 0%, transparent 60%);\r\n  pointer-events: none;\r\n}\r\n\r\n.plan-card__badge {\r\n  position: absolute;\r\n  top: 16px;\r\n  right: 16px;\r\n  display: flex;\r\n  align-items: center;\r\n  gap: 4px;\r\n  padding: 4px 10px;\r\n  background: linear-gradient(135deg, #f59e0b 0%, #d97706 100%);\r\n  border-radius: 20px;\r\n  font-size: 11px;\r\n  font-weight: 600;\r\n  color: #fff;\r\n  letter-spacing: 0.3px;\r\n}\r\n\r\n.plan-card__header {\r\n  display: flex;\r\n  align-items: flex-start;\r\n  gap: 14px;\r\n  margin-bottom: 20px;\r\n}\r\n\r\n.plan-card__icon {\r\n  width: 48px;\r\n  height: 48px;\r\n  border-radius: 14px;\r\n  background: linear-gradient(135deg, #2d2d44 0%, #1a1a2e 100%);\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  color: #8b8b9e;\r\n  flex-shrink: 0;\r\n}\r\n\r\n.plan-card__icon--premium {\r\n  background: linear-gradient(135deg, #9370db 0%, #6a5acd 100%);\r\n  color: #fff;\r\n  box-shadow: 0 8px 24px rgba(147, 112, 219, 0.3);\r\n}\r\n\r\n.plan-card__title-group {\r\n  display: flex;\r\n  flex-direction: column;\r\n  gap: 4px;\r\n}\r\n\r\n.plan-card__name {\r\n  font-size: 20px;\r\n  font-weight: 700;\r\n  color: #fff;\r\n}\r\n\r\n.plan-card__description {\r\n  font-size: 13px;\r\n  color: #8b8b9e;\r\n  line-height: 1.4;\r\n}\r\n\r\n.plan-card__price {\r\n  display: flex;\r\n  align-items: baseline;\r\n  gap: 4px;\r\n  margin-bottom: 20px;\r\n}\r\n\r\n.plan-card__price-value {\r\n  font-size: 32px;\r\n  font-weight: 700;\r\n  color: #fff;\r\n}\r\n\r\n.plan-card__price-currency {\r\n  font-size: 18px;\r\n  font-weight: 600;\r\n  color: #a8a8b8;\r\n}\r\n\r\n.plan-card__price-free {\r\n  font-size: 28px;\r\n  font-weight: 700;\r\n  color: #4ade80;\r\n}\r\n\r\n.plan-card__price-period {\r\n  font-size: 14px;\r\n  color: #5a5a6e;\r\n}\r\n\r\n.plan-card__features {\r\n  list-style: none;\r\n  padding: 0;\r\n  margin: 0 0 24px;\r\n  display: flex;\r\n  flex-direction: column;\r\n  gap: 12px;\r\n}\r\n\r\n.plan-card__feature {\r\n  display: flex;\r\n  align-items: center;\r\n  gap: 10px;\r\n  font-size: 14px;\r\n  color: #a8a8b8;\r\n}\r\n\r\n.plan-card__feature--disabled {\r\n  color: #5a5a6e;\r\n}\r\n\r\n.plan-card__feature-icon {\r\n  color: #4ade80;\r\n}\r\n\r\n.plan-card__feature--disabled .plan-card__feature-icon {\r\n  color: #5a5a6e;\r\n}\r\n\r\n.plan-card__button {\r\n  width: 100%;\r\n  padding: 14px 20px;\r\n  border: none;\r\n  border-radius: 14px;\r\n  font-size: 15px;\r\n  font-weight: 600;\r\n  cursor: pointer;\r\n  transition: all 0.2s ease;\r\n  background: rgba(255, 255, 255, 0.08);\r\n  color: #a8a8b8;\r\n}\r\n\r\n.plan-card__button:disabled {\r\n  cursor: default;\r\n  opacity: 0.6;\r\n}\r\n\r\n.plan-card__button--premium {\r\n  background: linear-gradient(135deg, #9370db 0%, #6a5acd 100%);\r\n  color: #fff;\r\n  box-shadow: 0 8px 24px rgba(147, 112, 219, 0.3);\r\n}\r\n\r\n.plan-card__button:not(:disabled):active {\r\n  transform: scale(0.98);\r\n}\r\n\r\n.plan-card__current-indicator {\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  gap: 6px;\r\n  margin-top: 12px;\r\n  font-size: 13px;\r\n  color: #4ade80;\r\n  font-weight: 500;\r\n}\r\n</style>\r\n","import { render } from \"./PlanCard.vue?vue&type=template&id=12a8d7d6&scoped=true\"\nimport script from \"./PlanCard.vue?vue&type=script&lang=js\"\nexport * from \"./PlanCard.vue?vue&type=script&lang=js\"\n\nimport \"./PlanCard.vue?vue&type=style&index=0&id=12a8d7d6&scoped=true&lang=css\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-12a8d7d6\"]])\n\nexport default __exports__","import { render } from \"./SubscriptionPlans.vue?vue&type=template&id=38b834d4&scoped=true\"\nimport script from \"./SubscriptionPlans.vue?vue&type=script&lang=js\"\nexport * from \"./SubscriptionPlans.vue?vue&type=script&lang=js\"\n\nimport \"./SubscriptionPlans.vue?vue&type=style&index=0&id=38b834d4&scoped=true&lang=css\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-38b834d4\"]])\n\nexport default __exports__"],"names":["class","_createElementBlock","_hoisted_1","_createElementVNode","_hoisted_2","onClick","_cache","args","$options","goBack","_createVNode","_component_v_icon","icon","size","_hoisted_3","$data","loading","_hoisted_4","_createBlock","_TransitionGroup","name","tag","_Fragment","_renderList","plans","plan","index","_component_PlanCard","key","id","isPlanCurrent","style","_normalizeStyle","transitionDelay","onSelect","$event","selectPlan","_hoisted_5","_hoisted_6","comparisonFeatures","feature","_hoisted_7","_toDisplayString","label","_hoisted_8","free","_hoisted_9","pro","_normalizeClass","isPremium","$props","isCurrent","_ctx","$emit","popular","planDescription","priceStars","durationDays","_hoisted_10","periodLabel","_hoisted_11","features","disabled","_hoisted_13","_hoisted_14","_hoisted_15","_hoisted_16","props","type","Object","required","Boolean","default","computed","this","days","__exports__","components","PlanCard","data","currentPlanType","mounted","loadData","methods","plansResponse","subscriptionResponse","Promise","all","SubscriptionCall","getPlans","getCurrent","error","console","$router","back","response","createInvoice","planId","invoiceLink","window","Telegram","WebApp","openInvoice","status","showAlert","log","alert","render"],"ignoreList":[],"sourceRoot":""}