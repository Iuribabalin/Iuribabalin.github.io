"use strict";(self["webpackChunkmini_notes_ui"]=self["webpackChunkmini_notes_ui"]||[]).push([[687],{8933:function(a,e,s){s.r(e),s.d(e,{default:function(){return M}});var n=s(6768),l=s(5130),r=s(4232),i=s(365);const c={class:"plans-page"},t={class:"plans-header"},p={class:"plans-content"},u={key:0,class:"plans-loading"},d={class:"plans-features"},o={class:"plans-features__table"},_={class:"plans-features__label"},k={class:"plans-features__value"},m={class:"plans-features__value plans-features__value--pro"};function v(a,e,s,v,f,C){const y=(0,n.g2)("PlanCard");return(0,n.uX)(),(0,n.CE)("div",c,[(0,n.Lk)("div",t,[(0,n.Lk)("button",{class:"plans-header__back",onClick:e[0]||(e[0]=(...a)=>C.goBack&&C.goBack(...a))},[(0,n.bF)(i.w,{icon:"mdi-arrow-left",size:"24"})]),e[1]||(e[1]=(0,n.Lk)("div",{class:"plans-header__content"},[(0,n.Lk)("h1",{class:"plans-header__title"},"Выберите план"),(0,n.Lk)("p",{class:"plans-header__subtitle"},"Разблокируйте все возможности")],-1))]),(0,n.Lk)("div",p,[f.loading?((0,n.uX)(),(0,n.CE)("div",u,[...e[2]||(e[2]=[(0,n.Lk)("div",{class:"plans-loading__spinner"},null,-1)])])):((0,n.uX)(),(0,n.Wv)(l.F,{key:1,name:"fade-up",tag:"div",class:"plans-list"},{default:(0,n.k6)(()=>[((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(f.plans,(a,e)=>((0,n.uX)(),(0,n.Wv)(y,{key:a.id,plan:a,"is-current":C.isPlanCurrent(a),style:(0,r.Tr)({transitionDelay:.1*e+"s"}),onSelect:e=>C.selectPlan(a)},null,8,["plan","is-current","style","onSelect"]))),128))]),_:1}))]),(0,n.Lk)("div",d,[e[4]||(e[4]=(0,n.Lk)("h3",{class:"plans-features__title"},"Сравнение планов",-1)),(0,n.Lk)("div",o,[e[3]||(e[3]=(0,n.Lk)("div",{class:"plans-features__row plans-features__row--header"},[(0,n.Lk)("span"),(0,n.Lk)("span",null,"Free"),(0,n.Lk)("span",null,"Pro")],-1)),((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(f.comparisonFeatures,(a,e)=>((0,n.uX)(),(0,n.CE)("div",{class:"plans-features__row",key:e},[(0,n.Lk)("span",_,(0,r.v_)(a.label),1),(0,n.Lk)("span",k,(0,r.v_)(a.free),1),(0,n.Lk)("span",m,(0,r.v_)(a.pro),1)]))),128))])])])}const f={key:0,class:"plan-card__badge"},C={key:1,class:"plan-card__glow"},y={class:"plan-card__header"},b={class:"plan-card__title-group"},L={class:"plan-card__name"},h={class:"plan-card__description"},P={class:"plan-card__price"},E={key:0,class:"plan-card__price-value"},X={key:1,class:"plan-card__price-free"},g={key:2,class:"plan-card__price-period"},w={class:"plan-card__features"},F=["disabled"],S={key:0},D={key:1},I={key:2},z={key:2,class:"plan-card__current-indicator"};function T(a,e,s,l,c,t){return(0,n.uX)(),(0,n.CE)("div",{class:(0,r.C4)(["plan-card",{"plan-card--premium":t.isPremium,"plan-card--current":s.isCurrent}]),onClick:e[0]||(e[0]=e=>a.$emit("select"))},[s.plan.popular?((0,n.uX)(),(0,n.CE)("div",f,[(0,n.bF)(i.w,{icon:"mdi-fire",size:"12"}),e[1]||(e[1]=(0,n.eW)(" Популярный ",-1))])):(0,n.Q3)("",!0),t.isPremium?((0,n.uX)(),(0,n.CE)("div",C)):(0,n.Q3)("",!0),(0,n.Lk)("div",y,[(0,n.Lk)("div",{class:(0,r.C4)(["plan-card__icon",{"plan-card__icon--premium":t.isPremium}])},[(0,n.bF)(i.w,{icon:t.isPremium?"mdi-crown":"mdi-leaf",size:"24"},null,8,["icon"])],2),(0,n.Lk)("div",b,[(0,n.Lk)("span",L,(0,r.v_)(s.plan.name),1),(0,n.Lk)("span",h,(0,r.v_)(t.planDescription),1)])]),(0,n.Lk)("div",P,[s.plan.priceStars>0?((0,n.uX)(),(0,n.CE)("span",E,[(0,n.eW)((0,r.v_)(s.plan.priceStars)+" ",1),e[2]||(e[2]=(0,n.Lk)("span",{class:"plan-card__price-currency"},"⭐",-1))])):((0,n.uX)(),(0,n.CE)("span",X,"Бесплатно")),s.plan.durationDays?((0,n.uX)(),(0,n.CE)("span",g,"/ "+(0,r.v_)(t.periodLabel),1)):(0,n.Q3)("",!0)]),(0,n.Lk)("ul",w,[((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(s.plan.features,(a,e)=>((0,n.uX)(),(0,n.CE)("li",{key:e,class:"plan-card__feature"},[(0,n.bF)(i.w,{icon:"mdi-check-circle",size:"18",class:"plan-card__feature-icon"}),(0,n.Lk)("span",null,(0,r.v_)(a),1)]))),128))]),(0,n.Lk)("button",{class:(0,r.C4)(["plan-card__button",{"plan-card__button--premium":t.isPremium&&!s.isCurrent}]),disabled:s.isCurrent},[s.isCurrent?((0,n.uX)(),(0,n.CE)("span",S,"Текущий план")):t.isPremium?((0,n.uX)(),(0,n.CE)("span",D,"Оплатить "+(0,r.v_)(s.plan.priceStars)+" ⭐",1)):((0,n.uX)(),(0,n.CE)("span",I,"Начать бесплатно"))],10,F),s.isCurrent?((0,n.uX)(),(0,n.CE)("div",z,[(0,n.bF)(i.w,{icon:"mdi-check-circle",size:"16"}),e[3]||(e[3]=(0,n.eW)(" Активен ",-1))])):(0,n.Q3)("",!0)],2)}var W={name:"PlanCard",props:{plan:{type:Object,required:!0},isCurrent:{type:Boolean,default:!1}},computed:{isPremium(){return this.plan.priceStars>0},periodLabel(){const a=this.plan.durationDays;return 30===a||31===a?"месяц":365===a||366===a?"год":7===a?"неделя":`${a} дн.`},planDescription(){return 0===this.plan.priceStars?"Для начала работы с заметками":"Полный доступ ко всем функциям"}}},B=s(1241);const Q=(0,B.A)(W,[["render",T],["__scopeId","data-v-12a8d7d6"]]);var K=Q,R=s(1668),$={name:"SubscriptionPlansView",components:{PlanCard:K},data(){return{loading:!0,currentPlanType:"FREE",plans:[],comparisonFeatures:[{label:"Страницы",free:"5",pro:"∞"},{label:"Блоки",free:"10",pro:"∞"},{label:"Экспорт",free:"—",pro:"✓"},{label:"Синхронизация",free:"—",pro:"✓"},{label:"Поддержка",free:"—",pro:"✓"}]}},async mounted(){await this.loadData()},methods:{async loadData(){try{this.loading=!0;const[a,e]=await Promise.all([R.eS.getPlans(),R.eS.getCurrent()]);this.plans=a.data,this.currentPlanType=e.data.plan}catch(a){console.error("Failed to load data:",a)}finally{this.loading=!1}},goBack(){this.$router.back()},isPlanCurrent(a){return 0===a.priceStars?"FREE"===this.currentPlanType:"PREMIUM"===this.currentPlanType},selectPlan(a){this.isPlanCurrent(a)||console.log("Selected plan:",a)}}};const A=(0,B.A)($,[["render",v],["__scopeId","data-v-3dfe5f63"]]);var M=A}}]);
//# sourceMappingURL=subscription-plans.f0ba05a6.js.map